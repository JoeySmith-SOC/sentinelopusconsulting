{%- assign page_title = page.title | default: site.title -%}
{%- assign page_desc  = page.description | default: site.description -%}
{%- assign page_url   = page.url | absolute_url -%}
{%- assign page_img   = page.image | default: '/assets/img/projects/post-placeholder.png' | absolute_url -%}
{%- assign is_post    = page.date -%}

<title>{{ page_title }}</title>
<meta name="description" content="{{ page_desc | strip_newlines | truncate: 160 }}">
<link rel="canonical" href="{{ page_url }}">

<!-- OpenGraph -->
<meta property="og:type" content="{{ is_post | default: false | ternary: 'article','website' }}">
<meta property="og:title" content="{{ page_title }}">
<meta property="og:description" content="{{ page_desc | strip_newlines | truncate: 200 }}">
<meta property="og:url" content="{{ page_url }}">
<meta property="og:image" content="{{ page_img }}">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ page_title }}">
<meta name="twitter:description" content="{{ page_desc | strip_newlines | truncate: 200 }}">
<meta name="twitter:image" content="{{ page_img }}">

<!-- JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{{ is_post | default: false | ternary: 'Article', 'Person' }}",
  {{ is_post | default: false | ternary:
    '"headline": "' | append: page_title | append: '", "datePublished": "' | append: page.date | date: "%Y-%m-%d" | append: '", "image": "' | append: page_img | append: '", "author": {"@type": "Person", "name": "Joseph Smith"}'
    ,
    '"name": "Joseph Smith", "jobTitle": "Identity & Automation Engineer", "url": "' | append: site.url | append: '"' }}
}
</script>

{% if site.analytics_id and site.analytics_id != "" %}
<!-- Analytics (Plausible or GA4; swap snippet as needed) -->
<script defer data-domain="sentinelopusconsulting.com" src="https://plausible.io/js/script.js"></script>
{% endif %}
